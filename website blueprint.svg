<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1669px" height="1081px" viewBox="-0.5 -0.5 1669 1081" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-03-30T01:57:33.112Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.60 Safari/537.36&quot; etag=&quot;YXd5NitZHWH0R1fbvjVv&quot; version=&quot;17.2.5&quot;&gt;&lt;diagram id=&quot;32iNHZUhH1PyHfRkSkfT&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 1200 625 L 1200 545 L 1200.82 465.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="60" y="920" width="180" height="70" fill="#e8e8e8" stroke="none" pointer-events="all"/><rect x="520" y="580" width="160" height="180" fill="#e8e8e8" stroke="none" pointer-events="all"/><rect x="920" y="485" width="160" height="305" fill="#e8e8e8" stroke="none" pointer-events="all"/><path d="M 485 70 L 525 70" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 425 100 L 425 133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 425 138.88 L 421.5 131.88 L 425 133.63 L 428.5 131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="365" y="40" width="120" height="60" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 70px; margin-left: 366px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">_app</div></div></div></foreignObject><text x="425" y="74" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">_app</text></switch></g><path d="M 645 70 L 750 70 L 750 815" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="525" y="40" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 70px; margin-left: 526px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">useCredentials</div></div></div></foreignObject><text x="585" y="74" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">useCredentials</text></switch></g><path d="M 240 453.63 L 240 420 L 425 420" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 458.88 L 236.5 451.88 L 240 453.63 L 243.5 451.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="180" y="460" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 490px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;Loading /&gt;</div></div></div></foreignObject><text x="240" y="494" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;Loading /&gt;</text></switch></g><rect x="180" y="0" width="305" height="30.5" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 303px; height: 1px; padding-top: 15px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">{ mobile, darkMode, toggleDarkMode, <span style="font-family: &quot;helvetica&quot;">logout, router </span>}</div></div></div></foreignObject><text x="333" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">{ mobile, darkMode, toggleDarkMode, logout, router }</text></switch></g><path d="M 425 300 L 425 333.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 425 338.88 L 421.5 331.88 L 425 333.63 L 428.5 331.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 300 270.08 L 332.5 270.1 L 365 270" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="365" y="240" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 270px; margin-left: 366px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;context.Provider /&gt;</div></div></div></foreignObject><text x="425" y="274" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;context.Provider /&gt;</text></switch></g><rect x="365" y="340" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 370px; margin-left: 366px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;AppLayout /&gt;</div></div></div></foreignObject><text x="425" y="374" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;AppLayout /&gt;</text></switch></g><rect x="180" y="240" width="120" height="160" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 320px; margin-left: 182px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">   { <br />     mobile, <br />     darkMode, <br />     toggleDarkMode, <br /><span style="font-family: &quot;helvetica&quot;">     loading, <br />     logout, <br />     router, <br />     user_id, <br />     setUser_id</span> <br /><div><span>   }</span></div></div></div></div></foreignObject><text x="182" y="324" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">{...</text></switch></g><path d="M 906.37 830 L 1000 830 L 1000 775" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 901.12 830 L 908.12 826.5 L 906.37 830 L 908.12 833.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 850 815 L 850 445 L 1000 445 L 1000 498.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1000 503.88 L 996.5 496.88 L 1000 498.63 L 1003.5 496.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 700 830 L 620 830" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="700" y="815" width="200" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 830px; margin-left: 701px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">service("service name", { ...data })</div></div></div></foreignObject><text x="800" y="834" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">service("service name", { ...data...</text></switch></g><path d="M 1000 535 L 1000 745" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="940" y="505" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 520px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">/api/eventbus</div></div></div></foreignObject><text x="1000" y="524" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">/api/eventbus</text></switch></g><rect x="940" y="745" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 760px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">res.json({ ...data })</div></div></div></foreignObject><text x="1000" y="764" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">res.json({ ...data })</text></switch></g><rect x="1140" y="565" width="120" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 1141px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">service</div></div></div></foreignObject><text x="1200" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">service</text></switch></g><rect x="60" y="680" width="200" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 710px; margin-left: 61px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b><u>useLayoutEffect</u></b><br />if (!user_id) logout(router.route)<br /><i><font face="helvetica">redirects to /login?redirect</font><font face="helvetica">={slug}</font></i></div></div></div></foreignObject><text x="160" y="714" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">useLayoutEffect...</text></switch></g><path d="M 340 830 L 300 830" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 480 793.63 L 480 670 L 480.2 539.7" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 480 798.88 L 476.5 791.88 L 480 793.63 L 483.5 791.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="800" width="280" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 830px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">route/index.js</div></div></div></foreignObject><text x="480" y="834" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">route/index.js</text></switch></g><rect x="630" y="855" width="185" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 870px; margin-left: 631px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none"><i>await response from eventbus</i></span></div></div></div></foreignObject><text x="723" y="874" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">await response from eventbus</text></switch></g><path d="M 380 740 L 380 780 L 480 780 L 475 780" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 320 710 L 260 710" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="320" y="680" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 710px; margin-left: 321px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;ProtectedPage /&gt;</div></div></div></foreignObject><text x="380" y="714" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;ProtectedPage /&gt;</text></switch></g><rect x="525" y="0" width="170" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 15px; margin-left: 526px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none">{ loading, user_id, setUser_id }</span></div></div></div></foreignObject><text x="610" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">{ loading, user_id, setUser_...</text></switch></g><rect x="1170" y="435" width="225" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 223px; height: 1px; padding-top: 450px; margin-left: 1171px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">microservice("service name", { ...data })</div></div></div></foreignObject><text x="1283" y="454" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">microservice("service name", { ...dat...</text></switch></g><rect x="940" y="565" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">verify jwt</div></div></div></foreignObject><text x="1000" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">verify jwt</text></switch></g><path d="M 1066.37 640 L 1133.63 640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1061.12 640 L 1068.12 636.5 L 1066.37 640 L 1068.12 643.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1138.88 640 L 1131.88 643.5 L 1133.63 640 L 1131.88 636.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="940" y="625" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">switch(service)</div></div></div></foreignObject><text x="1000" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">switch(service)</text></switch></g><rect x="1280" y="485" width="160" height="250" fill="#e8e8e8" stroke="none" pointer-events="all"/><path d="M 1360 535 L 1360 560.5 L 1360 685" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1359.88 499.13 L 1359.22 465.81" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1359.98 504.38 L 1356.34 497.45 L 1359.88 499.13 L 1363.34 497.32 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1300" y="505.5" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 521px; margin-left: 1301px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">/api/servicebus</div></div></div></foreignObject><text x="1360" y="524" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">/api/servicebus</text></switch></g><path d="M 1426.37 640 L 1493.63 640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1421.12 640 L 1428.12 636.5 L 1426.37 640 L 1428.12 643.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1498.88 640 L 1491.88 643.5 L 1493.63 640 L 1491.88 636.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1300" y="625" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 1301px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">switch(service)</div></div></div></foreignObject><text x="1360" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">switch(service)</text></switch></g><rect x="1300" y="565.5" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 581px; margin-left: 1301px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">verify secret</div></div></div></foreignObject><text x="1360" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">verify secret</text></switch></g><path d="M 1460 640 L 1460 520.5 L 1493.63 520.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1498.88 520.5 L 1491.88 524 L 1493.63 520.5 L 1491.88 517 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1500" y="505.5" width="120" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 521px; margin-left: 1501px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">microservice</div></div></div></foreignObject><text x="1560" y="524" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">microservice</text></switch></g><path d="M 1460 580.39 L 1480 580.4 L 1493.63 580.47" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1498.88 580.49 L 1491.86 583.96 L 1493.63 580.47 L 1491.9 576.96 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1500" y="565.5" width="120" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 581px; margin-left: 1501px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">microservice</div></div></div></foreignObject><text x="1560" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">microservice</text></switch></g><rect x="1500" y="625" width="120" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 1501px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">microservice</div></div></div></foreignObject><text x="1560" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">microservice</text></switch></g><rect x="1140" y="685" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 1141px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">capture event</div></div></div></foreignObject><text x="1200" y="704" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">capture event</text></switch></g><path d="M 1133.63 520 L 1100 520 L 1100 640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1138.88 520 L 1131.88 523.5 L 1133.63 520 L 1131.88 516.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1140" y="505" width="120" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 520px; margin-left: 1141px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">service</div></div></div></foreignObject><text x="1200" y="524" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">service</text></switch></g><path d="M 1060 700 L 1133.63 700" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1138.88 700 L 1131.88 703.5 L 1133.63 700 L 1131.88 696.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="940" y="685" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 941px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><i>save req results</i></div></div></div></foreignObject><text x="1000" y="704" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">save req results</text></switch></g><rect x="1140" y="625" width="120" height="30" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 1141px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">service</div></div></div></foreignObject><text x="1200" y="644" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">service</text></switch></g><path d="M 1420 700 L 1660 700 L 1660 450 L 1401.37 450" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1396.12 450 L 1403.12 446.5 L 1401.37 450 L 1403.12 453.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1300" y="685" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 1301px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">res.json({ ...data })</div></div></div></foreignObject><text x="1360" y="704" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">res.json({ ...data })</text></switch></g><rect x="525" y="110" width="215" height="90" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 213px; height: 1px; padding-top: 155px; margin-left: 527px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">   if (!cookie) return setLoading(false)<br />   await useService("get user")<br />   if (user) setUser_id<br />   setLoading(false)</div></div></div></foreignObject><text x="527" y="159" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">if (!cookie) return setLoading(fa...</text></switch></g><path d="M 600 660 L 600 680" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 540 630 L 300 630" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 680 630 L 700 630 L 700 780 L 480 780" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 573.63 L 600 560 L 380 560 L 380 673.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 578.88 L 596.5 571.88 L 600 573.63 L 603.5 571.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 380 678.88 L 376.5 671.88 L 380 673.63 L 383.5 671.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="540" y="600" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 630px; margin-left: 541px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;UnprotectedPage /&gt;</div></div></div></foreignObject><text x="600" y="634" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;UnprotectedPage /&gt;</text></switch></g><rect x="320" y="440" width="360" height="100" fill="#e8e8e8" stroke="none" pointer-events="all"/><path d="M 520 490 L 540 490" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="340" y="460" width="180" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 490px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;Component {...pageProps} /&gt;</div></div></div></foreignObject><text x="430" y="494" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;Component {...pageProps} /&gt;</text></switch></g><rect x="540" y="460" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 490px; margin-left: 541px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;Navbar /&gt;</div></div></div></foreignObject><text x="600" y="494" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;Navbar /&gt;</text></switch></g><rect x="60" y="590" width="240" height="80" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 630px; margin-left: 62px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style="text-align: center"><b><u>useLayoutEffect</u></b></div>  if (<br />    !user_id &amp;&amp;<br />    !["/login","/register"].includes(router.route)<br />  ) setLoginHeader(true)</div></div></div></foreignObject><text x="62" y="634" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">useLayoutEffect  if (...</text></switch></g><path d="M 425 400 L 425 420 L 480 420 L 480 433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 480 438.88 L 476.5 431.88 L 480 433.63 L 483.5 431.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="540" y="680" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 710px; margin-left: 541px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;LoginHeader /&gt;</div></div></div></foreignObject><text x="600" y="714" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;LoginHeader /&gt;</text></switch></g><path d="M 300 70 L 358.63 70" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 363.88 70 L 356.88 73.5 L 358.63 70 L 356.88 66.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="180" y="40" width="120" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 70px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">appContext</div></div></div></foreignObject><text x="240" y="74" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">appContext</text></switch></g><path d="M 1133.63 580 L 1100 580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1138.88 580 L 1131.88 583.5 L 1133.63 580 L 1131.88 576.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 220 955 L 273.45 954.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 278.7 954.98 L 271.7 958.48 L 273.45 954.98 L 271.69 951.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="80" y="940" width="140" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 955px; margin-left: 81px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">/api/auth/[...nextauth].js</div></div></div></foreignObject><text x="150" y="959" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">/api/auth/[...nextauth]...</text></switch></g><path d="M 150 845 L 150 933.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 150 938.88 L 146.5 931.88 L 150 933.63 L 153.5 931.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="815" width="300" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 830px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">signIn("provider", { callbackUrl: "/oauth?provider" })</div></div></div></foreignObject><text x="150" y="834" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">signIn("provider", { callbackUrl: "/oauth?provider...</text></switch></g><path d="M 360.5 955 L 393.13 955" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 398.38 955 L 391.38 958.5 L 393.13 955 L 391.38 951.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 280.5 890 L 330.5 890 L 360.5 920 L 360.5 990 L 280.5 990 L 280.5 890 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 330.5 890 L 330.5 920 L 360.5 920 Z" fill-opacity="0.05" fill="#000000" stroke="none" pointer-events="all"/><path d="M 330.5 890 L 330.5 920 L 360.5 920" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 940px; margin-left: 282px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">OAuth page</div></div></div></foreignObject><text x="321" y="944" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">OAuth page</text></switch></g><rect x="600" y="920" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 950px; margin-left: 601px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">useSession</div></div></div></foreignObject><text x="660" y="954" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">useSession</text></switch></g><rect x="600" y="992" width="200" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1007px; margin-left: 601px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font face="helvetica"><i>session === undefined || null || obj</i></font></div></div></div></foreignObject><text x="700" y="1011" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">session === undefined || null ||...</text></switch></g><path d="M 425 200 L 425 233.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 425 238.88 L 421.5 231.88 L 425 233.63 L 428.5 231.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="365" y="140" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 170px; margin-left: 366px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;SessionProvider /&gt;</div></div></div></foreignObject><text x="425" y="174" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;SessionProvider /&gt;</text></switch></g><rect x="1170" y="395" width="185" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 410px; margin-left: 1171px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none"><i>await response from servicebus</i></span></div></div></div></foreignObject><text x="1263" y="414" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">await response from servicebus</text></switch></g><rect x="850" y="185" width="230" height="250" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 228px; height: 1px; padding-top: 310px; margin-left: 852px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">   Overwrite req.body.user_id with results<br />   of jwt.verify(cookie), which will be used<br />   to access protected service routes and<br />   also used with the res obj returned to<br />   the frontend to verify user if applicable <br /><br />   If no standard token then check if next-<br />   auth-csrf-token was sent, verify the <br />   results attach it to the req<br /><br />   Attach &lt;eventbus secret&gt; to req, all<br />   individual services + servicebus will be<br />   expected to verify that secret to prevent<br />   outside req's that haven't originated<br />   from the eventbus. Erase secret<br />   attached to req before sending res</div></div></div></foreignObject><text x="852" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Overwrite req.body.user_id with res...</text></switch></g><rect x="579.5" y="1050" width="185" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 1065px; margin-left: 581px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none"><i>await response from eventbus</i></span></div></div></div></foreignObject><text x="672" y="1069" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">await response from eventbus</text></switch></g><rect x="0" y="1000" width="390" height="80" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 388px; height: 1px; padding-top: 1040px; margin-left: 2px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">    session === undefined<br />    await session obj from useSession hook<br />    if (session === null) logout()<br />    else redirect to `/${router.query.redirect ? router.query.redirect : "" }`</div></div></div></foreignObject><text x="2" y="1044" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">session === undefined...</text></switch></g><rect x="400" y="900" width="160" height="180" fill="#e8e8e8" stroke="none" pointer-events="all"/><path d="M 480 980 L 480 1000" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 582 950 L 600 950" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="420" y="920" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 950px; margin-left: 421px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">/oauth?provider&amp;redirect</div></div></div></foreignObject><text x="480" y="954" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">/oauth?provider&amp;redi...</text></switch></g><rect x="420" y="1000" width="120" height="60" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1030px; margin-left: 421px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">&lt;Loading /&gt;</div></div></div></foreignObject><text x="480" y="1034" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&lt;Loading /&gt;</text></switch></g><path d="M 540 950 L 580 950 L 580 1037 L 850 1037 L 850 845" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>